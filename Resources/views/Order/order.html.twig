{% extends 'tsCMSSystemBundle::layout.html.twig' %}
{% block title %}{{ "order.title"|trans }}{% endblock %}
{% block content %}
    <div class="row">
        <div class="col-lg-6">
            <div class="box box-blue">
                <div class="box-header">
                    <div class="box-title">
                        {{ "order.title"|trans }} #{{ order.id }}
                    </div>
                </div>
                <div class="box-body">
                    <div class="row">
                        {{ form_start(orderStatusForm) }}
                            <div class="col-lg-3">
                                <div class="row">
                                    <div class="col-lg-12">
                                        {{ form_row(orderStatusForm.status) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        {{ form_row(orderStatusForm.paymentStatus) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        {{ form_widget(orderStatusForm.save) }}
                                    </div>
                                </div>
                            </div>
                        {{ form_end(orderStatusForm) }}
                        <div class="col-lg-3">
                            {{ form(captureForm) }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {{ form_start(orderCustomerDetailsForm) }}
        <div class="row">
            <div class="col-lg-6">
                <div class="box">
                    <div class="box-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_label(orderCustomerDetailsForm.customerDetails) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.customerDetails.name) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.customerDetails.address) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.customerDetails.address2) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3">
                                        {{ form_row(orderCustomerDetailsForm.customerDetails.postalcode) }}
                                    </div>
                                    <div class="col-lg-6">
                                        {{ form_row(orderCustomerDetailsForm.customerDetails.city) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.customerDetails.country) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.customerDetails.email) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.customerDetails.phone) }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_label(orderCustomerDetailsForm.shipmentDetails) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.shipmentDetails.name) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.shipmentDetails.address) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.shipmentDetails.address2) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3">
                                        {{ form_row(orderCustomerDetailsForm.shipmentDetails.postalcode) }}
                                    </div>
                                    <div class="col-lg-6">
                                        {{ form_row(orderCustomerDetailsForm.shipmentDetails.city) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.shipmentDetails.country) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.shipmentDetails.email) }}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-9">
                                        {{ form_row(orderCustomerDetailsForm.shipmentDetails.phone) }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                {{ form_row(orderCustomerDetailsForm.save) }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {{ form_end(orderCustomerDetailsForm) }}

    {{ form_start(orderLinesForm) }}
        <div class="row">
            <div class="col-lg-6">
                <div class="box">
                    <div class="box-body">
                        <table class="table table-hover order">
                            <thead>
                                <tr>
                                    <th>{{ "product.partnumber"|trans }}</th>
                                    <th>{{ "product.title"|trans }}</th>
                                    <th>{{ "basket.amount"|trans }}</th>
                                    <th class="price">{{ "basket.pricePerUnit"|trans }}</th>
                                    <th class="price">{{ "basket.price"|trans }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for orderline in order.lines %}
                                    <tr>
                                        <td>{{ orderline.partnumber }}</td>
                                        <td>{{ orderline.title }}</td>
                                        <td>{{ orderline.amount }}</td>
                                        <td class="price">{{ orderline|currency }}</td>
                                        <td class="price">{{ orderline|currency(true) }}</td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="4"></td>
                                    <td class="price total">{{ order|currency }}</td>
                                </tr>
                            </tfoot>
                        </table>
                        <div class="row">
                            <div class="col-lg-6">
                                {{ form_row(orderLinesForm.note) }}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                {{ form_row(orderLinesForm.save) }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    {{ form_end(orderLinesForm) }}
{% endblock %}